<!DOCTYPE html>
<html>
    <head>
        <style>
            html, body {
                height: 100%
            }

            body {
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
            }

            .minha-div {
                display: flex;
            }

            input::placeholder {
            color: #ccc;
            text-align: center;
            }

            header {
                height: 20%;
                text-align: top;
            }

            footer {
                height: 10%;
                font-style: italic;
                align-self: bottom;
            }
        </style>
    </head>
    <body>
        <header>
        </header>
        <div style="width: 300px; margin-bottom: 10px;">
            <div style="text-align: center; font-style: italic; margin-bottom: 3px;">
                <label>Digite seu nome:</label>
            </div>
            <input type="text" id="nomeusuario" style="text-align: center; width: 100%; height: 50px; font-size: 25px; box-sizing: border-box; margin-bottom: 30px;"> 
        </div>
        <div style="width: 300px; margin-bottom: 10px;">
            <input type="text" id="resultado" style="text-align: center; width: 100%; height: 50px; font-size: 25px; box-sizing: border-box;" placeholder="Faça seu cálculo" readonly>
        </div>
        <div style="display: flex; flex-direction: row; width: 300px; gap: 10px;">
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; width: 180px;">
            <button onclick="inserir('1')" style="font-size: 25px;">1</button>
            <button onclick="inserir('2')" style="font-size: 25px;">2</button>
            <button onclick="inserir('3')" style="font-size: 25px;">3</button>
            <button onclick="inserir('4')" style="font-size: 25px;">4</button>
            <button onclick="inserir('5')" style="font-size: 25px;">5</button>
            <button onclick="inserir('6')" style="font-size: 25px;">6</button>
            <button onclick="inserir('7')" style="font-size: 25px;">7</button>
            <button onclick="inserir('8')" style="font-size: 25px;">8</button>
            <button onclick="inserir('9')" style="font-size: 25px;">9</button>
            <button onclick="inserir('0')" style="grid-column: span 3; font-size: 25px;">0</button>
            </div>
            <div style="display: flex; flex-direction: column; gap: 5px; width: 50px; font-style: bold;">
                <button onclick="inserir('+')" style="font-size: 25px;">+</button>
                <button onclick="inserir('-')" style="font-size: 25px;">-</button>
                <button onclick="inserir('*')" style="font-size: 25px;">x</button>
                <button onclick="inserir('/')" style="font-size: 25px;">÷</button>
            </div>
            <div style="display: flex; flex-direction: column; width: 50px;">
                <button onclick="calcular()" style="height: 100%; font-size: 25px;">=</button>
            </div>
        </div>
        <div style="width: 300px; display: flex; justify-content: end; margin-top: 20px;">
            <button onclick="limpar()" style="
            width: 80px;
            height: 80px;
            border-radius: 50%;
            font-size: 20px;">
            Limpar
            </button>
        <footer>
        </footer>
        
    </body>
    <script>
        let expressao = "";           // guarda o que será calculado
        let resetarInput = false;     // controla se deve apagar o input

        function inserir(valor) {
        const input = document.getElementById("resultado");

        // Se for um número
        if (!isNaN(valor)) {
            if (resetarInput) {
                input.value = "";
                resetarInput = false;
            }
            input.value += valor;
            expressao += valor;
        }
        // Se for um operador
        else {
            expressao += valor === "x" ? "*" : valor === ":" ? "/" : valor;
            resetarInput = true; // Próximo número irá limpar o input
        }
        }

        function calcular() {
        try {
            const resultado = eval(expressao);
            document.getElementById("resultado").value = resultado;
            expressao = resultado.toString(); // permite usar o resultado em próximas contas
            resetarInput = true;
        } catch {
            document.getElementById("resultado").value = "Erro";
            expressao = "";
            resetarInput = true;
        }
        }

        function limpar() {
        document.getElementById("resultado").value = "";
        expressao = "";
        resetarInput = false;
        }
            

    </script>
</html>
